<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN""http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html> 
<meta http-equiv="content-type" content="text/html; charset=utf-8" /> 
<head> 
<title>Google Earth Sample</title> 
<!-- this key if for http://localhost:9779 ... http://code.google.com/apis/maps/signup.html *** --> 
<script src="http://www.google.com/jsapi?key=ABQIAAAAkdQifZiXwwi63ISY9o49EBSSuGmWD3QImR3nxjT1hh2k6VwJoxRdE3fBS3YSn-hhIIoyazqfe0j5vw"></script> 
   <script type="text/javascript"> 
      var ge;
      google.load("earth", "1");
      function init() {
         google.earth.createInstance('map3d', initCB, failureCB);
      }
      function initCB(instance) {
         ge = instance;
         ge.getWindow().setVisibility(true);
         var link = ge.createLink('');
         var href = '/gps.kml'
         link.setHref(href);
         var networkLink = ge.createNetworkLink('');
         networkLink.set(link, true, true); // Sets the link, refreshVisibility, and flyToView.
         ge.getFeatures().appendChild(networkLink);
      }
      function failureCB(errorCode) {
      }
      google.setOnLoadCallback(init);
   </script> 
</head> 
<body onload='init()' id='body'> 
<div id='map3d'></div> 
</body> 
</html> 